import React from 'react';
import { useNavigate } from 'react-router-dom';

const ServiceStatusCard = ({ service, status, metric, value, responseTime, onClick }) => {
  const navigate = useNavigate();

  const statusConfig = {
    healthy: {
      color: 'bg-green-500',
      bgColor: 'bg-green-50',
      textColor: 'text-green-700',
      borderColor: 'border-green-200',
      label: 'Healthy'
    },
    warning: {
      color: 'bg-yellow-500',
      bgColor: 'bg-yellow-50',
      textColor: 'text-yellow-700',
      borderColor: 'border-yellow-200',
      label: 'Warning'
    },
    critical: {
      color: 'bg-red-500',
      bgColor: 'bg-red-50',
      textColor: 'text-red-700',
      borderColor: 'border-red-200',
      label: 'Critical'
    },
    unknown: {
      color: 'bg-gray-500',
      bgColor: 'bg-gray-50',
      textColor: 'text-gray-700',
      borderColor: 'border-gray-200',
      label: 'Unknown'
    }
  };

  const config = statusConfig[status] || statusConfig.unknown;

  const serviceIcons = {
    wordpress: (
      <svg className="w-8 h-8" fill="currentColor" viewBox="0 0 24 24">
        <path d="M12.158 12.786L9.46 20.625c.806.237 1.657.366 2.54.366 1.047 0 2.051-.181 2.986-.51-.024-.038-.046-.078-.065-.123l-2.763-7.572zm-5.789 3.475L1.773 7.687c-.458.89-.722 1.9-.722 2.97 0 3.065 2.055 5.638 4.84 6.404zM19.773 7.004c-.366-.045-.696-.088-.994-.088-.296 0-.548.018-.759.036-.168.018-.3.036-.396.063-.312.072-.575.24-.575.627 0 .312.18.63.35.867.144.215.3.458.426.703.14.27.252.557.366.883.114.326.198.665.27 1.043.036.144.057.288.078.432.018.14.03.27.03.396 0 .145-.018.288-.057.432-.03.144-.084.306-.144.487-.06.18-.144.378-.252.587-.108.21-.252.432-.426.675l-.9 1.515c-.18.3-.354.6-.522.9l-.996-2.97-1.503-4.098c.306-.018.585-.054.84-.108.258-.054.48-.12.672-.18.18-.057.342-.114.486-.168.144-.054.258-.09.342-.117.084-.027.144-.042.168-.042.054-.012.084-.018.09-.018.006-.006.006-.012.006-.018 0-.006 0-.012-.006-.018-.012-.012-.024-.018-.036-.024-.018-.006-.036-.012-.054-.018-.024-.006-.048-.012-.084-.018l-.264-.054c-.24-.042-.528-.09-.858-.132l-1.08-.132c-.36-.042-.75-.072-1.17-.09-.42-.018-.858-.024-1.314-.024-.48 0-.948.006-1.398.024-.45.018-.858.048-1.224.09l-1.122.132c-.348.042-.654.09-.918.132l-.276.054c-.03.006-.06.012-.084.018-.018.006-.036.012-.054.018-.012.006-.024.012-.036.024-.006.006-.006.012-.006.018 0 .006 0 .012.006.018 0 .006.036.012.09.018.084.027.198.063.342.117.144.054.306.111.486.168.192.06.414.126.672.18.255.054.534.09.84.108l-.006.018-.012.036-1.497 4.098-.996 2.97-.522-.9-.9-1.515c-.174-.243-.318-.465-.426-.675-.108-.21-.192-.408-.252-.587-.06-.181-.114-.343-.144-.487-.039-.144-.057-.287-.057-.432 0-.126.012-.256.03-.396.021-.144.042-.288.078-.432.072-.378.156-.717.27-1.043.114-.326.226-.613.366-.883.126-.245.282-.488.426-.703.17-.237.35-.555.35-.867 0-.387-.263-.555-.575-.627-.096-.027-.228-.045-.396-.063-.211-.018-.463-.036-.759-.036-.298 0-.628.043-.994.088l-.996.144c-.018 0-.03.006-.042.012-.012.006-.018.012-.024.024-.006.012-.006.024 0 .036.006.012.018.024.036.036.018.012.042.024.072.042.03.018.066.042.114.078.048.036.102.078.168.132.066.054.138.12.216.204.078.084.168.18.264.288.096.108.198.234.312.378.114.144.234.312.366.504.132.192.27.408.426.648l2.412 4.062 1.536 2.586-1.878 5.628c-.36-.012-.696-.054-.996-.126-.3-.072-.564-.168-.798-.288-.234-.12-.438-.264-.612-.432-.174-.168-.324-.36-.45-.576-.126-.216-.234-.456-.324-.72-.09-.264-.162-.549-.216-.855-.054-.306-.078-.636-.078-.99 0-.924.162-1.776.486-2.556.324-.78.762-1.458 1.314-2.034.552-.576 1.2-1.032 1.944-1.368.744-.336 1.548-.504 2.412-.504 1.044 0 2.004.252 2.88.756.876.504 1.572 1.182 2.088 2.034.516.852.774 1.8.774 2.844 0 .924-.162 1.776-.486 2.556-.324.78-.762 1.458-1.314 2.034-.552.576-1.2 1.032-1.944 1.368-.744.336-1.548.504-2.412.504-.936 0-1.806-.228-2.61-.684-.804-.456-1.458-1.08-1.962-1.872-.504-.792-.756-1.686-.756-2.682 0-.48.078-.942.234-1.386.156-.444.372-.852.648-1.224.276-.372.6-.696.972-.972.372-.276.78-.492 1.224-.648.444-.156.906-.234 1.386-.234.48 0 .942.078 1.386.234.444.156.852.372 1.224.648.372.276.696.6.972.972.276.372.492.78.648 1.224.156.444.234.906.234 1.386z"/>
      </svg>
    ),
    woocommerce: (
      <svg className="w-8 h-8" fill="currentColor" viewBox="0 0 24 24">
        <path d="M23.517 8.155c-.298-1.04-.87-1.933-1.657-2.684-.788-.747-1.747-1.308-2.852-1.673C17.903 3.337 16.66 3.17 15.38 3.17H8.62c-.892 0-1.656.627-1.818 1.493L4.55 17.95c-.107.574.336 1.092.918 1.092h3.487l.876-5.55-.027.174c.162-.866.917-1.493 1.809-1.493h3.765c7.41 0 13.214-3.011 14.897-11.722.047-.243.086-.48.118-.713-.169-.089-.169-.089-.339-.174-.596-.298-1.238-.534-1.92-.705z"/>
      </svg>
    ),
    digitalocean: (
      <svg className="w-8 h-8" fill="currentColor" viewBox="0 0 24 24">
        <path d="M12 2L2 12h3v7h7v-3h3v-3h3v-3h3z"/>
      </svg>
    ),
    cloudflare: (
      <svg className="w-8 h-8" fill="currentColor" viewBox="0 0 24 24">
        <path d="M17.596 13.934l-5.592-.03c-.39 0-.68-.34-.59-.71.07-.31.34-.54.66-.54h8.77c.52 0 .92-.46.82-.97-.47-2.51-2.65-4.39-5.26-4.39-2.06 0-3.85 1.17-4.75 2.88-.24-.11-.51-.17-.8-.17-1.04 0-1.88.84-1.88 1.88 0 .14.02.28.05.41-2.33.54-4.08 2.59-4.08 5.06 0 .15.01.3.02.44h13.32c1.83 0 3.32-1.49 3.32-3.32 0-1.64-1.19-3-2.74-3.27-.16-.02-.32-.03-.49-.03zm-10.94 3.47v2.53h-2.53v-2.53h2.53z"/>
      </svg>
    )
  };

  return (
    <div
      onClick={onClick || (() => navigate(`/dashboard/services/${service.toLowerCase()}`))}
      className={`bg-white rounded-xl border ${config.borderColor} p-6 hover:shadow-lg transition-all duration-200 cursor-pointer group`}
    >
      <div className="flex items-start justify-between mb-4">
        <div className="flex items-center space-x-3">
          <div className={`${config.bgColor} ${config.textColor} p-3 rounded-lg group-hover:scale-110 transition-transform duration-200`}>
            {serviceIcons[service.toLowerCase()] || serviceIcons.wordpress}
          </div>
          <div>
            <h3 className="text-lg font-semibold text-gray-900 capitalize">{service}</h3>
            <p className="text-sm text-gray-500">{metric}</p>
          </div>
        </div>
        <div className="flex items-center space-x-2">
          <div className={`w-3 h-3 rounded-full ${config.color} animate-pulse`}></div>
          <span className={`text-xs font-medium ${config.textColor}`}>{config.label}</span>
        </div>
      </div>
      
      <div className="flex items-end justify-between">
        <div>
          <p className="text-2xl font-bold text-gray-900">{value}</p>
          {responseTime && (
            <p className="text-xs text-gray-500 mt-1">Response: {responseTime}</p>
          )}
        </div>
        <svg className="w-5 h-5 text-gray-400 group-hover:text-blue-600 transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 5l7 7-7 7" />
        </svg>
      </div>
    </div>
  );
};

export default ServiceStatusCard;
